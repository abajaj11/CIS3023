<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>HTML</title>
		<meta name="description" content="">
		<meta name="author" content="A B">

		<meta name="viewport" content="width=device-width; initial-scale=1.0">

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">
	</head>

	<body>
		<div>
			<header>
				<h1>HTML</h1>
			</header>
			<script>
				var $ = function(id) {
					return document.getElementById(id);
				}//$
				function initCustomers(size) {
					var customers = new Array(size);
					for (var i = 0; i < customers.length; i++) {
						var customer = new Array();
						customer['id'] = -1;
						customer['name1'] = "XXXXX";
						customer['address'] = "XXXXX";
						customer['email'] = "XXXXX";
						customer['phone'] = "XXXXX";
						customer['interest'] = "XXXXX";
						customers[i] = customer;
					}//for i
					return customers;
				}//init

				function displayCust() {
					outputCustomers1(myCustomers, "Our Customers");
				}

				function outputCustomers(customers, heading) {
					var outputStr = heading + "\n";
					for (var i = 0; i < customers.length; i++) {
						outputStr += (customers[i]['id'] + " " + customers[i]['name1'] + " " + customers[i]['address'] + " " + customers[i]['email'] + " " + customers[i]['phone'] + " " + customers[i]['interest'] + "\n");
					}//for i
					alert(outputStr);
				}//output customers

				function outputCustomers1(customers, heading) {
					var outputStr = heading + "\n \n";
					for (var i = 0; i < customers.length; i++) {
						outputStr += "Customer " + i + ":\n";
						for (var attr in customers[i])
						outputStr += attr + ": " + customers[i][attr] + "\n";
						outputStr += "\n\n";
					}//for i

					alert(outputStr);
				}//output customers

				function outputCustomerAtI(customers, i_par) {
					var outputStr = "";
					for (var attr in customers[i_par])
					outputStr += attr + ": " + customers[i_par][attr] + "\n";
					alert(outputStr);
				}//function

				function insertCust() {
					var id = prompt("Enter New Customer ID");
					var name1 = prompt("Enter New Customer name ");
					var address = prompt("Enter New Customer Address");
					var email = prompt("Enter New Customer Email");
					var phone = prompt("Enter New Customer Phone");
					var interests = prompt("Enter New Customer Interests");
					addCustomer(myCustomers, id, name1, address, email, phone, interests);
				}

				function addCustomer(customers, id_par, name1_par, address_par, email_par, phone_par, interest_par) {
					var customer = new Array();
					customer['id'] = id_par;
					customer['name1'] = name1_par;
					customer['address'] = address_par;
					customer['email'] = email_par;
					customer['phone'] = phone_par;
					customer['interest'] = interest_par;
					for (var i = 0; i < customers.length; i++) {
						if (customers[i]['id'] == -1) {
							customers[i] = customer;
							return customers;
						}//if
					}//for i
					//reached here, customers full, add another element
					customers[customers.length] = customer;
					return customers;
				}//addCustomer

				function deleteCust() {
					var id = prompt("Enter  Customer ID to be deleted");
					deleteCustomer(myCustomers, id);
				}

				function deleteCustomer(customers, id_par) {
					var customer = new Array();
					customer['id'] = -1;
					customer['name1'] = "XXXXX";
					customer['address'] = "XXXXX";
					customer['email'] = "XXXXX";
					customer['phone'] = "XXXXX";
					customer['interest'] = "XXXXX";
					for (var i = 0; i < customers.length; i++) {
						if (customers[i]['id'] == id_par) {
							customers[i] = customer;
							alert("Customer successfully deleted with ID = " + id_par);
							return customers;
						}//if
					}//for
					alert("Customer Not found with  ID: " + id_par);
					return customers;
				}//deleteCustomer

				function updateCust() {
					var id = prompt("Enter Customer ID to be updated");
					var name1 = prompt("Enter Customer name ");
					var address = prompt("Enter Customer Address");
					var email = prompt("Enter  Customer Email");
					var phone = prompt("Enter  Customer Phone");
					var interests = prompt("Enter  Customer Interests");
					updateCustomer(myCustomers, id, name1, address, email, phone, interests);
				}

				function updateCustomer(customers, id_par, name1_par, address_par, email_par, phone_par, interest_par) {
					//check if ID_par exists, if so, update, otherwise say not found
					var customer = new Array();
					customer['id'] = id_par;
					customer['name1'] = name1_par;
					customer['address'] = address_par;
					customer['email'] = email_par;
					customer['phone'] = phone_par;
					customer['interest'] = interest_par;
					for (var i = 0; i < customers.length; i++) {
						if (customers[i]['id'] == id_par) {
							customers[i] = customer;
							alert("Customer successfully updated with id: " + id_par);
							return customers;
						}//if
					}//for
					alert("Customer not found with ID: " + id_par);
					return customers;
				}//updateCustomer

				function eventHandler() {
					$("displayCust").onclick = displayCust;
					$("insertCust").onclick = insertCust;
					$("updateCust").onclick = updateCust;
					$("deleteCust").onclick = deleteCust;
				}//eventHandler

				window.onload = function() {
					eventHandler();
				}//onload
				
				//main: all variables declared here are global to script
				alert("Initializing Customers");
				var myCustomers = initCustomers(2);
				
				/*var heading_arg = "Our Customers: ";
				 outputCustomers(myCustomers, heading_arg);
				 addCustomer(myCustomers, 10, "Akhilesh", "221b", "ak@baker", "Baker567", "coding forensics");
				 outputCustomers(myCustomers, heading_arg);
				 myCustomers = addCustomer(myCustomers, 20, "Akhilesh", "221b", "ak@baker", "Baker567", "coding forensics");
				 myCustomers = addCustomer(myCustomers, 30, "Akhilesh", "221b", "ak@baker", "Baker567", "coding forensics");
				 outputCustomers(myCustomers, heading_arg);
				 myCustomers = deleteCustomer(myCustomers, 5);
				 outputCustomers(myCustomers, heading_arg);
				 myCustomers = deleteCustomer(myCustomers, 20);
				 outputCustomers(myCustomers, heading_arg);
				 myCustomers = addCustomer(myCustomers, 40, "Akhilesh", "221b", "ak@baker", "Baker567", "coding forensics");
				 outputCustomers(myCustomers, heading_arg);
				 myCustomers = updateCustomer(myCustomers, 40, "Bajaj", "221b", "ba@baker", "Baker324", "pipe smoking");
				 outputCustomers(myCustomers, heading_arg);
				 */
			</script>

			<nav>
				<p>
					<a href="/">Home</a>
				</p>
				<p>
					<a href="/contact">Contact</a>
				</p>
			</nav>

			<div>
				<input type="button" id = "displayCust" value="Display Customers" />
				<input type="button" id = "insertCust" value="Add A Customer" />
				<input type="button" id = "updateCust" value="Update a Customers" />
				<input type="button" id = "deleteCust" value="Delete A Customer" />
			</div>

			<footer>
				<p>
					&copy; Copyright  by A B
				</p>
			</footer>
		</div>
	</body>
</html>
